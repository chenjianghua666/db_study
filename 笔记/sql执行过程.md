# sql语句的执行过程
1. 建立连接

```
mysql -h$ip -P$port -u$user -p$password
```
如果已经建立了链接但是当前连接的用户权限被管理员已经修改，那么当前的连接仍然还是使用之前的权限，只有再次重新建立连接，才会生效修改后的权限

2. 查看当前的连接
```
show processlist
```
command为sleep代表当前是休眠状态，连接的状态休眠时间由“wait_timeout”来控制默认为8小时

2.查询缓存
建立完连接，就可以执行select查询操作，此时要做的就是查询缓存，如果缓存中存在就返回结果，如果没有命中缓存，继续执行查询

查看缓存设置：

```
show variables like "query_cache_type"
```

默认查询缓存设置的关闭的，开启对数据的读写能力会造成压力的

3. 分析
没有命中缓存,使用分析器对收到sql语句做解析

3.1 词法分析
3.2 语法分析
3.3 预处理

4. 优化
选择最优的查询计划执行, 查看执行效率sql
```
show status like 'last_query_cast'
```
* 当有多个索引的时候决定使用那个索引
* 多表join决定个表的链接顺讯,确定基准表

5. 执行器

1. 判断执行权限
2. 使用引擎提供的查询接口,提取数据







